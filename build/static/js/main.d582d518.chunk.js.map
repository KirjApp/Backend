{"version":3,"sources":["services/data.js","components/ReviewPage.js","App.js","index.js","KirjApp_logo2.svg","noImage.png"],"names":["newFilter","axios","get","params","q","maxResults","projection","then","response","data","items","newObject","post","id","myBaseUrl","labels","0.5","1","1.5","2","2.5","3","3.5","4","4.5","5","useStyles","makeStyles","theme","root","flexGrow","inputRating","width","height","display","alignItems","outputRating","message","marginTop","spacing","divider","backgroundColor","ReviewPage","props","useParams","useState","writer","setWriter","reviewText","setReviewText","reviewsToShow","setReviewsToShow","React","stars","setStars","hover","setHover","setMessage","messageType","setMessageType","title","setTitle","classes","useEffect","mounted","selectedBookTitle","books","filter","book","map","selectedBook","volumeInfo","document","bookService","returnedReviews","forEach","review","date","modifyDate","substr","addBook","event","preventDefault","bookObject","book_id","reviewtext","returnedBook","reviews","catch","error","console","log","filteredBook","Grid","key","item","className","container","xs","padding","src","imageLinks","smallThumbnail","NoImage","alt","Rating","name","value","averageRating","precision","readOnly","size","Typography","variant","authors","join","TextField","inputProps","style","fontSize","description","multiline","rows","rowsMax","fullWidth","label","color","FormGroup","onChange","target","newValue","onChangeActive","newHover","Box","ml","p","Button","onClick","disabled","Alert","severity","_id","Divider","bookCard","flexWrap","media","justifyContent","filterTextField","margin","button","minWidth","appHeader","typography","App","selectedBooks","setSelectedBooks","setNewFilter","trim","length","Container","maxWidth","AppBar","position","Toolbar","path","to","noValidate","autoComplete","toLowerCase","includes","ButtonBase","CardActionArea","component","Link","Card","CardMedia","image","CardContent","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d582d518.chunk.js","sourcesContent":["// Contributor(s): Esa Mäkipää\n//\n// Esa Mäkipää: \n// Basic code for promises (promise represents the eventual completion or \n// failure of an asynchronous operation). I have used learnings from \n// Full stak open 2020 course by University of Helsinki\n//\n// Description: Promises for getting book data, saving book and/or review data.\n// and getting reviews related to selected book.\n// Axios library is used for communication between browser and server\n\nimport axios from 'axios'\n\n//const baseUrl = 'http://localhost:3001/api/books'\n//const myBaseUrl = 'http://localhost:3001/api/myBooks'\nconst baseUrl = '/api/books'\nconst myBaseUrl = '/api/myBooks'\n\n// kirjojen haku Google Books APIsta\nconst getAll = newFilter => {\n  const request = axios.get(baseUrl, {\n    params: {\n        q: `${newFilter}`,\n        maxResults: 12,\n        projection: 'full'\n    }\n  })\n  return request.then(response => response.data.data.items)\n}\n\n// kirjan ja/tai arvostelujen tallentaminen tietokantaan (MongoDB)\nconst create = newObject => {\n  const request = axios.post(myBaseUrl, newObject)\n  return request.then(response => response.data)\n}\n\n// kirjan arvostelujen haku tietokannasta (MongoDB)\nconst getReviews = id => {\n  const request = axios.get(myBaseUrl + '/' + id)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, getReviews }","// Contributor(s): Esa Mäkipää, Taika Tulonen, Juho Hyödynmaa\n//\n// Esa Mäkipää: \n// Basic code for creating the view. I have used learnings from \n// Full stack open 2020 course by University of Helsinki\n//\n// Taika Tulonen:\n// Implementation of Material-UI related components for building UI\n//\n// Description: View for showing a single book with information and\n// for writing and sending a review. Creates the user interface to \n// write a review text and submit it \n\nimport React, { useState, useEffect } from \"react\";\n\nimport bookService from \"../services/data\";\n// KirjApp-logo esim. tulostumaan tyhjä kansikuvan tilalle\nimport NoImage from \"../KirjApp_logo2.svg\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from '@material-ui/core/TextField';\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n// Router\nimport { /*BrowserRouter as Router, Switch, Route, Link,*/ useParams } from \"react-router-dom\"\nimport {Img} from 'react-image';\n// tekstikenttien näyttäminen\nimport FormGroup from '@material-ui/core/FormGroup';\n// painonappi arvostelun lähettämiseen\nimport Button from '@material-ui/core/Button';\n// tähtien antaminen\nimport Rating from '@material-ui/lab/Rating'; //vaatinee asennuksen: npm install @material-ui/lab\nimport Box from '@material-ui/core/Box';\nimport Alert from '@material-ui/lab/Alert';\n// arvostelujen erottamiseen toisistaan\nimport Divider from '@material-ui/core/Divider';\n\n// tähtien arvoa vastaavat sanalliset kuvaukset\nconst labels = {\n  0.5: 'Hyödytön',\n  1: 'Hyödytön+',\n  1.5: 'Huono',\n  2: 'Huono+',\n  2.5: 'Ok',\n  3: 'Ok+',\n  3.5: 'Hyvä',\n  4: 'Hyvä+',\n  4.5: 'Erinomainen',\n  5: 'Erinomainen+',\n};\n\nconst useStyles = makeStyles((theme) => ({\n  // kirjakortti (Paper Material-UI -komponentti)\n  root: {\n    flexGrow: 1,\n  },\n  inputRating: {\n    width: 200,\n    height: 50,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  // tähtikenttä tähtien näyttämiseen\n  outputRating: {\n    width: 150,\n    height: 20,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  // viesti arvostelun lisäämisen onnistumisesta tai epäonnistumisesta\n  message: {\n    width: '70%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  // arvostelujen välinen jakoviiva (viivan väri)\n  divider: {\n    backgroundColor: \"#E5E5E5\",\n  },\n}));\n\nconst ReviewPage = ( props ) => {\n\n  // kirja id\n  const id = useParams().id\n  // nimimerkki\n  const [ writer, setWriter ] = useState(\"\");\n  // arvosteluteksti\n  const [ reviewText, setReviewText ] = useState(\"\");\n  // kirjan arvostelut\n  const [ reviewsToShow, setReviewsToShow ] = useState([]);\n  // arvostelu tähdillä\n  const [stars, setStars] = React.useState(0);\n  const [hover, setHover] = React.useState(-1);\n  // Viestit\n  const [ message, setMessage ] = useState(null)\n  const [ messageType, setMessageType ] = useState(\"\")\n  // kirjan nimi selaimen tabin päivittämistä varten\n  const [ title, setTitle ] = useState(\"\")\n\n  const classes = useStyles();\n\n  // Esa Mäkipää, Juho Hyödynmaa\n  // haetaan kirjan arvostelut (parametrina kirjan id)\n  useEffect(() => {\n    let mounted = true\n    let selectedBookTitle = props.books.filter(book => book.id === id).map(selectedBook => {return selectedBook.volumeInfo.title})\n    document.title = \"KirjApp \" + title\n    bookService\n      .getReviews(id)\n      .then(returnedReviews => {\n        if (mounted) {\n          setTitle(selectedBookTitle)\n\t        if (returnedReviews) { \n\t\t        returnedReviews.forEach(review => {\n\t\t          review.date = modifyDate(review.date)\n\t\t        })\n\t        }\n          setReviewsToShow(returnedReviews)\n        } \n      });\n      return () => {\n        document.title = \"KirjApp\"\n        mounted = false;\n      }\n  }, [props.books, title, id]);\n  \n  // Juho Hyödynmaa\n  // muokataan Date haluttuun muotoon. tulee funktioon muodossa\n  // 2020-10-01T12:28:52.033Z (String)\n  const modifyDate = (date) => {\n\t  return date.substr(11,5) + \" GMT - \" + date.substr(8,2) + '.' + date.substr(5,2) + '.' + date.substr(0,4)\n  }\n\n  // lisää kirja ja/tai arvostelu\n  const addBook = (event) => {\n    event.preventDefault()\n    \n    const bookObject = {\n      book_id: id,\n      writer: writer,\n      reviewtext: reviewText,\n      stars: stars\n    }\n\n    setWriter(\"\")\n    setReviewText(\"\")\n    setStars(0)\n      \n    // lisää kirjan ja arvostelun tiedot (book object)\n    bookService\n      .create(bookObject)\n      .then(returnedBook => {\n        setReviewsToShow(returnedBook.reviews)\n      })\n      .catch(error => {\n        console.log(error)\n        setMessage(\"Arvostelusi tallentamisessa tapahtui virhe\")\n        setMessageType(\"error\")   \n    })\n      setMessage(\"Arvostelusi on tallennettu\")\n      setMessageType(\"success\")\n  }       \n    \n  // writer input\n  const handleWriterChange = (event) => {\n    setWriter(event.target.value)\n  }\n    \n  // review input\n  const handleReviewChange = (event) => {\n    setReviewText(event.target.value)\n  }\n  \n  // näytetään kirjailijat halutussa muodossa\n  const splitAuthors = (authors) => {\n\treturn authors.join(', ')\n  }\n\t\n  return (\n    <div>\n      <br /> \n      {props.books.filter(book => book.id === id).map(filteredBook => (\n        <Grid key={filteredBook.id} item>\n         <div className={classes.root}>\n            <Grid container spacing={1}>\n              <Grid container item xs={12} spacing={0} padding={0}>\n                <Grid item xs={5}>\n\n                    <Img  \n                      src={!(\"imageLinks\" in filteredBook.volumeInfo) ?  `${NoImage}` : `${filteredBook.volumeInfo.imageLinks.smallThumbnail}`}\n                      alt=\"Book\" width=\"170px\" height=\"250px\"\n                    /> \n                    \n                    <div className={classes.outputRating}>\n                      {(\"averageRating\" in filteredBook.volumeInfo) ? \n                        <Rating name=\"read-only\" value={filteredBook.volumeInfo.averageRating} precision={0.5} readOnly size=\"medium\"/> :\n                        <Rating name=\"read-only\" value={0} precision={0.5} readOnly size=\"medium\"/>\n                      }\n                      <Typography variant=\"subtitle1\">\n                        {(\"averageRating\" in filteredBook.volumeInfo) ? \n                          <div>\n                            ({filteredBook.volumeInfo.averageRating})\n                          </div> :\n                          <div> \n                            (0)\n                          </div>  \n                        }\n                      </Typography>\n                    </div>\n \n                </Grid>\n                <Grid item xs={7}>\n                  <Typography variant=\"subtitle2\">\n                    {filteredBook.volumeInfo.title}\n                  </Typography>\n                  <br />\n                  <Typography variant=\"body2\">  \n                    Tekijä(t): {filteredBook.volumeInfo.authors ? splitAuthors(filteredBook.volumeInfo.authors) : \"\"}\n                  </Typography>\n                  <br />\n                  <Typography variant=\"caption\">\n                    {(\"description\" in filteredBook.volumeInfo) ? \n                      <div>\n                        <TextField id=\"review\" inputProps={{style: {fontSize: 14}}} value={filteredBook.volumeInfo.description} variant=\"outlined\" multiline size=\"small\" rows=\"8\" rowsMax=\"8\" fullWidth label=\"Kuvaus:\"/>\n                      </div> :\n                      <div> \n                      </div>  \n                    }\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </div>\n        </Grid>\n      ))}\n\n      <Grid container spacing={0}>\n        <div>\n          <br />\n            <Typography variant=\"h6\" color=\"inherit\">\n              Kirjoita arvostelu\n            </Typography>\n        </div>  \n      </Grid>    \n\n      <Grid container spacing={2}>  \n        <div>\n          <FormGroup>\n            <span>&nbsp;</span>\n            <TextField id=\"writer\" value={writer} variant=\"outlined\"  size=\"small\" onChange={handleWriterChange} label=\"Nimimerkki\"/>\n          </FormGroup>\n        </div>\n        <div style={{width: \"100%\"}}>\n          <FormGroup>\n            <span>&nbsp;</span>\n            <TextField id=\"review\" value={reviewText} variant=\"outlined\" multiline size=\"small\" rowsMax=\"4\" fullWidth onChange={handleReviewChange} label=\"Kirjoita arvostelu\"/>\n\n            <div className={classes.inputRating}>\n              <Rating\n                name=\"hover-feedback\"\n                value={stars}\n                precision={0.5}\n                onChange={(event, newValue) => {\n                  setStars(newValue);\n                }}\n                onChangeActive={(event, newHover) => {\n                  setHover(newHover);\n                }}\n              />\n              <div>\n                {stars !== null && <Box ml={2} p={0}>{labels[hover !== -1 ? hover : stars]}</Box>}\n              </div>\n            </div>\n          </FormGroup>\n          <br />\n          <Grid container spacing={1}>\n            <Grid container item xs={12} spacing={0} padding={0}>\n              <Grid item xs={4}>\n                <div>\n                  {(writer && reviewText && stars) ? <Button variant=\"contained\" id={\"addButton\"} onClick={addBook}> Lähetä</Button> : <Button variant=\"contained\" id={\"addButton\"} disabled onClick={addBook}> Lähetä</Button>}   \n                </div>\n              </Grid>\n              <Grid item xs={8}>\n                <div className={classes.message}>\n                  {message ? <Alert severity={messageType}>{message}</Alert> : null}\n                </div>\n              </Grid>\n            </Grid>\n          </Grid> \n        </div>\n      </Grid>\n      \n      <br />\n      <Grid container spacing={0}>\n        <div>\n          <br />\n          <Typography variant=\"h6\" color=\"inherit\">\n            KirjApp-käyttäjien antamat arvostelut:\n          </Typography>\n          <br />\n        </div>  \n      </Grid>\n      \n      {reviewsToShow ? reviewsToShow.map((review) => (        \n        <div key={review._id}>\n          <div className={classes.root}>\n            <Grid container spacing={1}>\n              <Grid container item xs={12} spacing={0} padding={0}>\n                <Grid item xs={2}>\n                  <Typography variant=\"caption\">\n                    KirjApp tähdet:\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <div className={classes.outputRating}>\n                    <Rating name=\"read-only\" value={review.stars} precision={0.5} readOnly size=\"small\"/>\n                  </div>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"caption\">\n                    {review.date}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container item xs={12} spacing={0}>\n                <Grid item xs={12}>\n                  <Typography variant=\"caption\">\n                    \"{review.reviewtext}\" - {review.writer}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </div>\n          <Divider className={classes.divider} />\n        </div>\n      )) : <Typography variant=\"body1\">Teokselle ei löydy arvosteluja</Typography>}     \n    </div>     \n  )\n}\n\nexport default ReviewPage;","// Contributor(s): Esa Mäkipää, Taika Tulonen\n//\n// Esa Mäkipää: \n// Basic code for getting data and filtering. I have used learnings from \n// Full stack open 2020 course by University of Helsinki\n//\n// Taika Tulonen:\n// Implementation of Material-UI related components for showing\n// books and building UI in general\n//\n// Description: Main page of the application. Creates the user interface to \n// write search text and show the search results\n\nimport React, { useState, useEffect } from \"react\";\n// yksittäisen kirjan sivu\nimport ReviewPage from \"./components/ReviewPage\";\nimport bookService from \"./services/data\";\n// tyhjä kuva (, jos kirjatiedoissa ei ole kansikuvaa)\nimport NoImage from \"./noImage.png\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport TextField from '@material-ui/core/TextField';\n// kirja-kortti painonapiksi\nimport ButtonBase from '@material-ui/core/ButtonBase';\n// Router\nimport { /*BrowserRouter as Router,*/ Switch, Route, Link } from \"react-router-dom\"\n// sovelluksen otsikko\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n\n// tähtien antamiseen\nimport Rating from '@material-ui/lab/Rating'; //vaatinee asennuksen: npm install @material-ui/lab\n// kirjakortin muodostamiseen\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst useStyles = makeStyles((theme) => ({\n  bookCard: {\n    height: 250,\n    width: 130,\n    backgroundColor: \"#E5E5E5\",\n    padding: theme.spacing(0),\n    flexWrap: \"nowrap\",\n  },\n  media: {\n    height: 120,\n    width: 130,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  // syötekenttä hakusanalle\n  filterTextField: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"70ch\",\n    },\n    backgroundColor: \"#FFFFFF\",\n  },\n  // kirjakortin painonappi\n  button: {\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    minWidth: 130,\n    width: \"100%\",\n  },\n  // sovelluksen otsikko\n  appHeader: {\n    flexGrow: 1,\n    width: \"70ch\"\n    //bacgroundColor: \"#E5E5E5\"\n  },\n  typography: {\n    // In Chinese and Japanese the characters are usually larger,\n    // so a smaller fontsize may be appropriate.\n    fontSize: 10,\n  },   \n}));\n\nconst App = () => {\n  // varattu suositeltavien/suosituimpien kirjojen käsittelyyn?\n  //const [recommendedBooks, setRecommendedBooks] = useState([]);\n  // hakusanan tuottamat kirjat\n  const [selectedBooks, setSelectedBooks] = useState([]);\n  // hakusana\n  const [newFilter, setNewFilter] = useState(\"\");\n    \n  const classes = useStyles();\n\n  // hakusanaa vastaavien kirjojen haku serveriltä\n  useEffect(() => {\n    document.title = \"KirjApp\"\n    let mounted = true\n    if (newFilter.trim() !== \"\" && newFilter.trim().length > 0) {\n      bookService.getAll(newFilter).then((books) => {\n        if (mounted) {\n          // asetetaan valitut kirjat\n          setSelectedBooks(books);\n        }\n      });\n    }\n\n    return () => mounted = false;\n\n  }, [newFilter]);\n\n  \n  // tapahtumankäsittelijä hakusanalle\n  const handleFilterChange = (event) => {\n    if (event.target.value) {\n      setSelectedBooks(\n        selectedBooks.filter((book) =>\n          book.volumeInfo.title\n            .toLowerCase()\n            .includes(event.target.value.toLowerCase())\n        )\n      );\n    } else {\n      setNewFilter(\"\");\n      setSelectedBooks([]);\n    }\n    setNewFilter(event.target.value);\n  };\n\n  const padding = {\n    padding: 5\n  };\n  \n // Juho Hyödynmaa\n // näytetään kirjailijat halutussa muodossa\n  const splitAuthors = (authors) => {\n    return authors.join(', ')\n  }\n\n  //const match = useRouteMatch(\"/reviews/:id\")\n  //const book = match \n  //  ? selectedBooks.find(book => book.id === match.params.id)\n  //  : null\n\n  return (\n    <div>\n      <Container maxWidth=\"sm\">\n        <div className={classes.appHeader}>\n          <AppBar position=\"static\">\n            <Toolbar variant=\"dense\">\n              <Typography variant=\"h6\" color=\"inherit\">\n                KirjApp\n              </Typography>\n            </Toolbar>\n          </AppBar>\n        </div>\n      \n        <Switch>\n          <Route path=\"/reviews/:id\">\n            <div>\n              <Typography variant=\"body1\">\n                <Link style={padding} to=\"/\">Etusivu</Link>\n              </Typography> \n            </div>\n            <br />\n            <ReviewPage books={selectedBooks} />\n          </Route>\n          <Route path=\"/\">\n            <div>\n\n              <Grid container spacing={2}>\n                <div>\n                  <br />\n                  <form className={classes.filterTextField} noValidate autoComplete=\"off\">\n                    <TextField id=\"searchText\" label=\"Hae kirjoja\" variant=\"outlined\" size=\"small\" onChange={handleFilterChange} />\n                  </form>\n                </div>\n              </Grid>\n\n              <Grid container spacing={0}>\n                <div>\n                  <br />\n                  <Typography variant=\"subtitle1\" color=\"inherit\">\n                    Hakutuloksia: {selectedBooks ? selectedBooks.length : 0} \n                  </Typography>\n                </div>\n              </Grid>\n\n\n              <Grid container item xs={12}>\n                <Grid container spacing={1}>\n                  {selectedBooks ? selectedBooks.map((book) => (\n                    <Grid key={book.id} item>\n                      <div className={classes.button}>\n\n                        <ButtonBase>\n\n                          <CardActionArea component={Link} to={`/reviews/${book.id}`}> \n                            <Card className={classes.bookCard}>\n                              <CardMedia\n                                className={classes.media}\n                                image={!(\"imageLinks\" in book.volumeInfo) ?  `${NoImage}` : `${book.volumeInfo.imageLinks.smallThumbnail}`}\n                                alt=\"Book\" width=\"80px\" height=\"100px\"                  \n                              />\n                              <CardContent>\n                                {(\"averageRating\" in book.volumeInfo) ? \n                                  <Rating name=\"read-only\" value={book.volumeInfo.averageRating} precision={0.5} readOnly size=\"small\"/> :\n                                  <Rating name=\"read-only\" value={0} precision={0.5} readOnly size=\"small\"/>\n                                }\n                                <Typography className={classes.typography} variant=\"caption\" component=\"h2\">\n                                  {book.volumeInfo.title}\n                                </Typography>\n                                <Typography className={classes.typography} variant=\"caption\" color=\"textSecondary\" component=\"p\">\n                                  {book.volumeInfo.authors ? splitAuthors(book.volumeInfo.authors) : \"\"}\n                                </Typography>\n                              </CardContent>\n                            </Card>\n                          </CardActionArea>\n\n                        </ButtonBase>\n\n                      </div>\n                    </Grid>\n                  )) : []}\n                </Grid>\n              </Grid>\n    \n              <Grid container spacing={0}>\n                <div>\n                  <br />\n                  <Typography variant=\"h6\" color=\"inherit\">\n                     \n                  </Typography>\n                </div>\n              </Grid>\n\n            </div>\n          </Route>\n        </Switch>\n      </Container>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\"\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\ndocument.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/KirjApp_logo2.8344431e.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KAtiABQAAAFxJREFUWAnt0sENABAUBUH03zOihbk4rPsmP+PNfd/4+K2Pb3undaD+UIIJqoD2bTBBFdC+DSaoAtq3wQRVQPs2mKAKaN8GE1QB7dtggiqgfRtMUAW0b4MJqoD2Bz7qBEwOFkyKAAAAAElFTkSuQmCC\""],"sourceRoot":""}