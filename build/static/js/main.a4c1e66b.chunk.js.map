{"version":3,"sources":["services/data.js","components/ReviewPage.js","components/CreateProfilePage.js","components/LoginPage.js","components/UserPage.js","App.js","index.js","KirjApp_logo2.svg","noImage.png"],"names":["token","setToken","newToken","getAll","newFilter","axios","get","params","q","maxResults","projection","then","response","data","items","getOne","id","oneBookBaseUrl","create","newObject","config","headers","Authorization","post","getReviews","myBaseUrl","getUserReviews","loggedUser","createUser","newUserObject","a","loginUser","credentials","labels","0.5","1","1.5","2","2.5","3","3.5","4","4.5","5","useStyles","makeStyles","theme","root","flexGrow","inputRating","width","height","display","alignItems","outputRating","message","marginTop","spacing","divider","backgroundColor","ReviewPage","props","useParams","useState","JSON","parse","window","localStorage","getItem","user","writer","setWriter","reviewText","setReviewText","reviewsToShow","setReviewsToShow","React","stars","setStars","hover","setHover","setMessage","messageType","setMessageType","buttonPressed","setButtonPressed","books","selectedBook","setSelectedBook","classes","useEffect","mounted","bookService","returnedBook","document","title","volumeInfo","returnedReviews","forEach","review","date","modifyDate","textWithHTMLTags","substr","addBook","event","preventDefault","bookObject","book_title","book_id","reviewtext","catch","error","console","log","setTimeout","handleWriterChange","target","value","Grid","key","item","className","container","xs","padding","src","Object","imageLinks","smallThumbnail","NoImage","alt","Rating","name","averageRating","precision","readOnly","size","Typography","variant","authors","join","TextField","inputProps","style","fontSize","description","replace","trim","multiline","rows","rowsMax","fullWidth","label","color","FormGroup","onChange","newValue","onChangeActive","newHover","Box","ml","p","username","Button","onClick","disabled","Alert","severity","map","_id","Divider","CreateProfilePage","history","useHistory","password","setPassword","createProfile","newUser","push","type","LoginPage","setUser","loggedUserJSON","handleLogin","userObject","setItem","stringify","onLoggedUser","UserPage","userReviewsToShow","setUserReviewsToShow","userReviewsShown","setUserReviewsShown","handleShowUserReviews","userReviews","bookCard","flexWrap","media","justifyContent","filterTextField","margin","button","minWidth","appHeader","typography","menuButton","marginRight","link","textDecoration","App","selectedBooks","setSelectedBooks","setNewFilter","setLoggedUser","length","match","useRouteMatch","book","filter","Container","maxWidth","AppBar","position","Toolbar","clear","component","Link","to","justify","path","noValidate","autoComplete","toLowerCase","includes","ButtonBase","CardActionArea","Card","CardMedia","image","CardContent","ReactDOM","render","getElementById","module","exports"],"mappings":"gMAgDIA,EAAQ,KAGNC,EAAW,SAAAC,GACfF,EAAK,iBAAaE,IA8DL,GACbC,OA3Da,SAAAC,GAQb,OAPgBC,IAAMC,IAtBR,aAsBqB,CACjCC,OAAQ,CACJC,EAAE,GAAD,OAAKJ,GACNK,WAAY,GACZC,WAAY,UAGHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKA,KAAKC,UAoDnDC,OAhDa,SAAAC,GAMb,OALgBX,IAAMC,IAAIW,aAAuBD,EAAI,CACnDT,OAAQ,CACNG,WAAY,UAGDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKA,SA2C9CK,OAvCa,SAAAC,GACb,IAAMC,EAAS,CACbC,QAAS,CAAEC,cAAetB,IAG5B,OADgBK,IAAMkB,KA3CN,eA2CsBJ,EAAWC,GAClCT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmCzCW,WA/BiB,SAAAR,GAEjB,OADgBX,IAAMC,IAAImB,gBAAkBT,GAC7BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SA8BzCa,eA1BqB,SAACC,GACtB1B,EAAS0B,EAAW3B,OACpB,IAAMoB,EAAS,CACbC,QAAS,CAAEC,cAAetB,IAG5B,OADgBK,IAAMC,IAzDC,mBAyDqBc,GAC7BT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqBzCe,WAjBc,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEACMzB,IAAMkB,KA7DL,aA6D6BM,GADpC,cACXjB,EADW,yBAEVA,EAASC,MAFC,2CAAH,sDAkBdkB,UAZa,uCAAG,WAAMC,GAAN,eAAAF,EAAA,sEACOzB,IAAMkB,KAjEV,aAiE6BS,GADhC,cACVpB,EADU,yBAETA,EAASC,MAFA,2CAAH,sDAabZ,Y,2HCpEIgC,EAAS,CACbC,GAAK,iBACLC,EAAG,kBACHC,IAAK,QACLC,EAAG,SACHC,IAAK,KACLC,EAAG,MACHC,IAAK,UACLC,EAAG,WACHC,IAAK,cACLC,EAAG,gBAGCC,EAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCC,KAAM,CACJC,SAAU,GAGZC,YAAa,CACXC,MAAO,IACPC,OAAQ,GACRC,QAAS,OACTC,WAAY,UAGdC,aAAc,CACZJ,MAAO,IACPC,OAAQ,GACRC,QAAS,OACTC,WAAY,UAGdE,QAAS,CACPL,MAAO,MACP,YAAa,CACXM,UAAWV,EAAMW,QAAQ,KAI7BC,QAAS,CACPC,gBAAiB,eA4RNC,EAxRI,SAAEC,GAEnB,IAAM7C,EAAK8C,cAAY9C,GAFO,EAIZ+C,mBAASC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,gBAAkB,MAA5EC,EAJsB,sBAMAN,mBAAS,IANT,mBAMtBO,EANsB,KAMdC,EANc,OAQQR,mBAAS,IARjB,mBAQtBS,EARsB,KAQVC,EARU,OAUcV,mBAAS,IAVvB,mBAUtBW,EAVsB,KAUPC,EAVO,OAYJC,IAAMb,SAAS,GAZX,mBAYvBc,EAZuB,KAYhBC,EAZgB,OAaJF,IAAMb,UAAU,GAbZ,mBAavBgB,EAbuB,KAahBC,EAbgB,OAeEjB,mBAAS,MAfX,mBAetBR,EAfsB,KAeb0B,EAfa,OAgBUlB,mBAAS,IAhBnB,mBAgBtBmB,EAhBsB,KAgBTC,EAhBS,OAkBcpB,oBAAS,GAlBvB,mBAkBtBqB,EAlBsB,KAkBPC,EAlBO,QAoBYtB,mBAASF,EAAMyB,OApB3B,qBAoBtBC,GApBsB,MAoBRC,GApBQ,MAsBxBC,GAAU7C,IAIhB8C,qBAAU,WACR,IAAIC,GAAU,EA2BZ,OAzBFC,EACC7E,OAAOC,GACPL,MAAK,SAAAkF,GACAF,GACFH,GAAgBK,GAGlBC,SAASC,MAAQ,YAAcF,EAAaG,WAAWD,SAGzDH,EACGpE,WAAWR,GACXL,MAAK,SAAAsF,GACAN,IACEM,GACFA,EAAgBC,SAAQ,SAAAC,GACtBA,EAAOC,KAAOC,GAAWF,EAAOC,SAGpCzB,EAAiBsB,GACbb,GACFC,GAAiB,OAIhB,WACLS,SAASC,MAAQ,UACjBJ,GAAU,KAEb,CAAC9B,EAAMyB,MAAOtE,EAAIoE,IAKrB,IAsDmBkB,GAtDbD,GAAa,SAACD,GAChB,OAAOA,EAAKG,OAAO,GAAG,GAAK,UAAYH,EAAKG,OAAO,EAAE,GAAK,IAAMH,EAAKG,OAAO,EAAE,GAAK,IAAMH,EAAKG,OAAO,EAAE,IAIrGC,GAAU,SAACC,GACfA,EAAMC,iBAEN,IAAMC,EAAa,CACjBC,WAAYrB,GAAaS,WAAWD,MACpCc,QAAS7F,EACTsD,OAAQA,EACRwC,WAAYtC,EACZK,MAAOA,GAGTN,EAAU,IACVE,EAAc,IACdK,EAAS,GAGTc,EACG1E,OAAOyF,GACPI,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZ/B,EAAW,8CACXE,EAAe,YAEjBF,EAAW,8BACXE,EAAe,WAEfgC,YAAW,WACT9B,GAAiB,KAChB,MAID+B,GAAqB,SAACX,GAC1BlC,EAAUkC,EAAMY,OAAOC,QAoBzB,OACE,6BACE,6BACE,kBAACC,EAAA,EAAD,CAAMC,IAAKjC,GAAavE,GAAIyG,MAAI,GAC9B,yBAAKC,UAAWjC,GAAQ1C,MACtB,kBAACwE,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,kBAAC8D,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,EAAGoE,QAAS,GAChD,kBAACN,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GAEb,kBAAC,MAAD,CACEE,IAAO,eAAgBC,OAAOxC,GAAaS,YAAtC,UAAuET,GAAaS,WAAWgC,WAAWC,gBAA1G,UAAwDC,KAC7DC,IAAI,OAAOjF,MAAM,QAAQC,OAAO,UAGlC,yBAAKuE,UAAWjC,GAAQnC,cACpB,kBAAmByE,OAAOxC,GAAaS,YACvC,kBAACoC,EAAA,EAAD,CAAQC,KAAK,YAAYf,MAAO/B,GAAaS,WAAWsC,cAAeC,UAAW,GAAKC,UAAQ,EAACC,KAAK,WACrG,kBAACL,EAAA,EAAD,CAAQC,KAAK,YAAYf,MAAO,EAAGiB,UAAW,GAAKC,UAAQ,EAACC,KAAK,WAEnE,kBAACC,EAAA,EAAD,CAAYC,QAAQ,aAChB,kBAAmBZ,OAAOxC,GAAaS,YACvC,iCACIT,GAAaS,WAAWsC,cAD5B,KAGA,uCAOR,kBAACf,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,aACjBZ,OAAOxC,GAAaS,YAAYD,OAEnC,6BACA,kBAAC2C,EAAA,EAAD,CAAYC,QAAQ,SAApB,iBACcZ,OAAOxC,GAAaS,YAAY4C,QAAuBrD,GAAaS,WAAW4C,QA9C5FC,KAAK,MA8CkG,IAExG,6BACA,kBAACH,EAAA,EAAD,CAAYC,QAAQ,WAChB,gBAAiBZ,OAAOxC,GAAaS,YACrC,6BACE,kBAAC8C,EAAA,EAAD,CAAW9H,GAAG,cAAc+H,WAAY,CAACC,MAAO,CAACC,SAAU,KAAM3B,OA/CpEhB,GA+CqFf,GAAaS,WAAWkD,YA9CvH5C,GAAiB6C,QAAQ,8BAA+B,IAAIC,QA8CyET,QAAQ,WAAWU,WAAS,EAACZ,KAAK,QAAQa,KAAK,IAAIC,QAAQ,IAAIC,WAAS,EAACC,MAAM,aAEzM,oCAUhB,kBAAClC,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACE,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,WAA/B,wBAMN,kBAACnC,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,kBAACkG,EAAA,EAAD,KACE,sCACQ,kBAACb,EAAA,EAAD,CAAW9H,GAAG,SAASsG,MAAOhD,EAAQqE,QAAQ,WAAWF,KAAK,QAAQmB,SAAUxC,GAAoBqC,MAAM,iBAGtH,yBAAKT,MAAO,CAAC9F,MAAO,SAClB,kBAACyG,EAAA,EAAD,KACE,sCACA,kBAACb,EAAA,EAAD,CAAW9H,GAAG,SAASsG,MAAO9C,EAAYmE,QAAQ,WAAWU,WAAS,EAACZ,KAAK,QAAQc,QAAQ,IAAIC,WAAS,EAACI,SA1FzF,SAACnD,GAC1BhC,EAAcgC,EAAMY,OAAOC,QAyFqHmC,MAAM,uBAC9I,yBAAK/B,UAAWjC,GAAQxC,aACtB,kBAACmF,EAAA,EAAD,CACEC,KAAK,iBACLf,MAAOzC,EACP0D,UAAW,GACXqB,SAAU,SAACnD,EAAOoD,GAChB/E,EAAS+E,IAEXC,eAAgB,SAACrD,EAAOsD,GACtB/E,EAAS+E,MAGb,6BACE,kBAACrB,EAAA,EAAD,CAAYC,QAAQ,WACP,OAAV9D,GAAkB,kBAACmF,EAAA,EAAD,CAAKC,GAAI,EAAGC,EAAG,GAAIjI,GAAkB,IAAX8C,EAAeA,EAAQF,QAK5E,6BACA,kBAAC0C,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,kBAAC8D,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,EAAGoE,QAAS,GAChD,kBAACN,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,8BACKvD,EAAOA,EAAK8F,SAAW7F,IAAWE,GAAcK,EAAS,kBAACuF,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,YAAaqJ,QAAS7D,IAAtD,gBAAiF,kBAAC4D,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,YAAasJ,UAAQ,EAACD,QAAS7D,IAA/D,kBAGjJ,kBAACe,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,yBAAKF,UAAWjC,GAAQlC,SACrBA,EAAU,kBAACgH,EAAA,EAAD,CAAOC,SAAUtF,GAAc3B,GAAmB,WAQzE,6BACA,kBAACgE,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACA,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,WAA/B,gDAGA,+BAIHhF,EAAgBA,EAAc+F,KAAI,SAACtE,GAAD,OACjC,yBAAKqB,IAAKrB,EAAOuE,KACf,yBAAKhD,UAAWjC,GAAQ1C,MACtB,kBAACwE,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,kBAAC8D,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,EAAGoE,QAAS,GAChD,kBAACN,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WAApB,uBAIF,kBAACpB,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,yBAAKF,UAAWjC,GAAQnC,cACtB,kBAAC8E,EAAA,EAAD,CAAQC,KAAK,YAAYf,MAAOnB,EAAOtB,MAAO0D,UAAW,GAAKC,UAAQ,EAACC,KAAK,YAGhF,kBAAClB,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WACjBxC,EAAOC,QAId,kBAACmB,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,GACpC,kBAAC8D,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,IACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WAApB,IACIxC,EAAOW,WADX,OAC2BX,EAAO7B,YAM1C,kBAACqG,EAAA,EAAD,CAASjD,UAAWjC,GAAQ/B,cAE3B,kBAACgF,EAAA,EAAD,CAAYC,QAAQ,SAApB,wCCjVL/F,EAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCS,QAAS,CACPL,MAAO,MACP,YAAa,CACXM,UAAWV,EAAMW,QAAQ,SA0GhBmH,EArGW,WAGxB,IAAMC,EAAUC,cAHc,EAMA/G,mBAAS,IANT,mBAMtBO,EANsB,KAMdC,EANc,OAQIR,mBAAS,IARb,mBAQtBgH,EARsB,KAQZC,EARY,OAUEjH,mBAAS,MAVX,mBAUtBR,EAVsB,KAUb0B,EAVa,OAWUlB,mBAAS,IAXnB,mBAWtBmB,EAXsB,KAWTC,EAXS,KAaxBM,EAAU7C,IAGVqI,EAAa,uCAAG,WAAOxE,GAAP,iBAAA3E,EAAA,6DACpB2E,EAAMC,iBAGA7E,EAAgB,CACpBsI,SAAU7F,EACVyG,SAAUA,GAGZxG,EAAU,IACVyG,EAAY,IAVQ,SAYEpF,EACnBhE,WAAWC,GACXkF,OAAO,SAAAC,GACN7B,EAAe,SACfF,EAAW+B,EAAMpG,SAASC,KAAKmG,OAC/BG,YAAW,WACTlC,EAAW,QACV,QAnBa,QAYdiG,EAZc,UAsBlB/F,EAAe,WACfF,EAAW,qBAAD,OAAaiG,EAAQf,SAArB,oBACVhD,YAAW,WACTlC,EAAW,MAEX4F,EAAQM,KAAK,OACZ,MA5Be,2CAAH,sDA0CnB,OACE,6BACE,6BACA,kBAAC5D,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACE,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,WAA/B,sBAMN,kBAACnC,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACA,kBAACkG,EAAA,EAAD,KACI,sCACA,kBAACb,EAAA,EAAD,CAAW9H,GAAG,SAASsG,MAAOhD,EAAQqE,QAAQ,WAAYF,KAAK,QAAQmB,SAzBtD,SAACnD,GAC1BlC,EAAUkC,EAAMY,OAAOC,QAwBsFmC,MAAM,eAC3G,sCACA,kBAACX,EAAA,EAAD,CAAW9H,GAAG,WAAWsG,MAAOyD,EAAUpC,QAAQ,WAAWF,KAAK,QAAQ2C,KAAK,WAAWxB,SAtBvE,SAACnD,GAC5BuE,EAAYvE,EAAMY,OAAOC,QAqByGmC,MAAM,eAGpI,yBAAKT,MAAO,CAAC9F,MAAO,SAClB,6BACA,kBAACqE,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,kBAAC8D,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,EAAGoE,QAAS,GAChD,kBAACN,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,6BACItD,GAAUyG,EAAY,kBAACX,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,sBAAuBqJ,QAASY,EAAelF,MAAM,gBAArF,gBAA4H,kBAACqE,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,sBAAuBsJ,UAAQ,EAACD,QAASY,GAAzE,mBAGxJ,kBAAC1D,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,yBAAKF,UAAWjC,EAAQlC,SACrBA,EAAU,kBAACgH,EAAA,EAAD,CAAOC,SAAUtF,GAAc3B,GAAmB,aCrGzEX,EAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCS,QAAS,CACPL,MAAO,MACP,YAAa,CACXM,UAAWV,EAAMW,QAAQ,SA8HhB4H,EAzHG,SAAExH,GAGlB,IAAMgH,EAAUC,cAHa,EAMP/G,mBAAS,MAArBuH,EANmB,sBAQCvH,mBAAS,IARV,mBAQrBO,EARqB,KAQbC,EARa,OAUKR,mBAAS,IAVd,mBAUrBgH,EAVqB,KAUXC,EAVW,OAYGjH,mBAAS,MAZZ,mBAYrBR,EAZqB,KAYZ0B,EAZY,OAaWlB,mBAAS,IAbpB,mBAarBmB,EAbqB,KAaRC,EAbQ,KAevBM,EAAU7C,IAGhB8C,qBAAU,WACR,IAAM6F,EAAiBrH,OAAOC,aAAaC,QAAQ,cACnD,GAAImH,EAAgB,CAClB,IAAMlH,EAAOL,KAAKC,MAAMsH,GACxBD,EAAQjH,GACRuB,EAAY3F,SAASoE,EAAKrE,UAE3B,IAGH,IAAMwL,EAAW,uCAAG,WAAO/E,GAAP,iBAAA3E,EAAA,6DAClB2E,EAAMC,iBAGA+E,EAAa,CACjBtB,SAAU7F,EACVyG,SAAUA,GAGZxG,EAAU,IACVyG,EAAY,IAVM,SAYOpF,EACtB7D,UAAU0J,GACV1E,OAAO,SAAAC,GACN7B,EAAe,SACfF,EAAW+B,EAAMpG,SAASC,KAAKmG,OAC/BG,YAAW,WACTlC,EAAW,QACV,QAnBW,YAYZtD,EAZY,gCAsBhBuC,OAAOC,aAAauH,QAClB,aAAc1H,KAAK2H,UAAUhK,IAG/BiE,EAAY3F,SAAS0B,EAAW3B,OA1BhB,UA2BVsL,EAAQ3J,GA3BE,QA6BhBkC,EAAM+H,aAAajK,GACnBwD,EAAe,WACfF,EAAW,qBAAD,OAAatD,EAAWwI,SAAxB,oBACVhD,YAAW,WACTlC,EAAW,MAEX4F,EAAQM,KAAK,OACZ,KApCa,4CAAH,sDAkDjB,OACE,6BACE,6BACA,kBAAC5D,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACE,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,WAA/B,mBAMN,kBAACnC,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,kBAACkG,EAAA,EAAD,KACE,sCACA,kBAACb,EAAA,EAAD,CAAW9H,GAAG,SAASsG,MAAOhD,EAAQqE,QAAQ,WAAYF,KAAK,QAAQmB,SAzBtD,SAACnD,GAC1BlC,EAAUkC,EAAMY,OAAOC,QAwBsFmC,MAAM,eAC3G,sCACA,kBAACX,EAAA,EAAD,CAAW9H,GAAG,WAAWsG,MAAOyD,EAAUpC,QAAQ,WAAWF,KAAK,QAAQ2C,KAAK,WAAWxB,SAtBvE,SAACnD,GAC5BuE,EAAYvE,EAAMY,OAAOC,QAqByGmC,MAAM,eAGpI,yBAAKT,MAAO,CAAC9F,MAAO,SAClB,6BACA,kBAACqE,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,kBAAC8D,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,EAAGoE,QAAS,GAChD,kBAACN,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,6BACItD,GAAUyG,EAAY,kBAACX,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,cAAeqJ,QAASmB,EAAazF,MAAM,yBAA3E,0BAAyH,kBAACqE,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,cAAesJ,UAAQ,EAACD,QAASmB,GAAjE,4BAGrJ,kBAACjE,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,yBAAKF,UAAWjC,EAAQlC,SACrBA,EAAU,kBAACgH,EAAA,EAAD,CAAOC,SAAUtF,GAAc3B,GAAmB,aCzHzEX,EAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCC,KAAM,CACJC,SAAU,GAEZC,YAAa,CACXC,MAAO,IACPC,OAAQ,GACRC,QAAS,OACTC,WAAY,UAGdC,aAAc,CACZJ,MAAO,IACPC,OAAQ,GACRC,QAAS,OACTC,WAAY,UAGdE,QAAS,CACPL,MAAO,MACP,YAAa,CACXM,UAAWV,EAAMW,QAAQ,KAI7BC,QAAS,CACPC,gBAAiB,eA0HNkI,EAtHE,WAAM,MAGS9H,mBAASC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,gBAHzD,mBAGbE,EAHa,KAGLC,EAHK,OAK+BR,mBAAS,IALxC,mBAKb+H,EALa,KAKMC,EALN,OAO6BhI,oBAAS,GAPtC,mBAObiI,EAPa,KAOKC,EAPL,KASfxG,EAAU7C,IAEhB8C,qBAAU,WACR,IAAM6F,EAAiBrH,OAAOC,aAAaC,QAAQ,cACnD,GAAImH,EAAgB,CAClB,IAAMlH,EAAOL,KAAKC,MAAMsH,GACxBhH,EAAUF,GACVuB,EAAY3F,SAASoE,EAAKrE,UAE3B,IAKH,IAOMkM,EAAqB,uCAAG,WAAOzF,GAAP,eAAA3E,EAAA,6DAE5BmK,GAAoB,GAFQ,SAGFrG,EACvBlE,eAAe4C,GAJU,QAGtB6H,EAHsB,QAMhBjG,SAAQ,SAAAC,GAbH,IAACC,EAchBD,EAAOC,MAdSA,EAcSD,EAAOC,MAbvBG,OAAO,GAAG,GAAK,UAAYH,EAAKG,OAAO,EAAE,GAAK,IAAMH,EAAKG,OAAO,EAAE,GAAK,IAAMH,EAAKG,OAAO,EAAE,MAiBtGwF,EAAqBI,GAXO,2CAAH,sDAsB3B,OACE,6BACE,kBAACzD,EAAA,EAAD,CAAYC,QAAQ,SAApB,eACerE,EAAO6F,UAEtB,6BACE,6BACC6B,EAAmB,kBAAC5B,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,oBAAqBqJ,QAbjD,SAAC5D,GAE7BwF,GAAoB,GACpBF,EAAqB,MAUG,wBAAqH,kBAAC3B,EAAA,EAAD,CAAQzB,QAAQ,YAAY3H,GAAI,oBAAqBqJ,QAAS6B,GAA9D,6BAG3I,kBAAC3E,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACA,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,WAC5BsC,EAAmB,6BAA+B,IAErD,+BAIHF,EAAoBA,EAAkBrB,KAAI,SAACtE,GAAD,OACzC,yBAAKqB,IAAKrB,EAAOuE,KACf,yBAAKhD,UAAWjC,EAAQ1C,MACtB,kBAACwE,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,kBAAC8D,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,GACpC,kBAAC8D,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,IACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WACjBxC,EAAOS,WAAaT,EAAOS,WAAa,MAI/C,kBAACW,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,EAAGoE,QAAS,GAChD,kBAACN,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WAApB,uBAIF,kBAACpB,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,yBAAKF,UAAWjC,EAAQnC,cACtB,kBAAC8E,EAAA,EAAD,CAAQC,KAAK,YAAYf,MAAOnB,EAAOtB,MAAO0D,UAAW,GAAKC,UAAQ,EAACC,KAAK,YAGhF,kBAAClB,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WACjBxC,EAAOC,QAId,kBAACmB,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,GAAInE,QAAS,GACpC,kBAAC8D,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,IACb,kBAACc,EAAA,EAAD,CAAYC,QAAQ,WAApB,IACIxC,EAAOW,WADX,OAC2BX,EAAO7B,YAM1C,kBAACqG,EAAA,EAAD,CAASjD,UAAWjC,EAAQ/B,cAE3B,6BAAK,kBAACgF,EAAA,EAAD,CAAYC,QAAQ,SACzBqD,EAAmB,2CAA0C,O,gGCpHlEpJ,EAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCsJ,SAAU,CACRjJ,OAAQ,IACRD,MAAO,IACPS,gBAAiB,UACjBkE,QAAS/E,EAAMW,QAAQ,GACvB4I,SAAU,UAGZC,MAAO,CACLnJ,OAAQ,IACRD,MAAO,IACPG,WAAY,SACZkJ,eAAgB,UAGlBC,gBAAiB,CACf,QAAS,CACPC,OAAQ3J,EAAMW,QAAQ,GACtBP,MAAO,QAETS,gBAAiB,WAGnB+I,OAAQ,CACNtJ,QAAS,OACTiJ,SAAU,SACVM,SAAU,IACVzJ,MAAO,QAGT0J,UAAW,CACT5J,SAAU,EACVE,MAAO,QAIT2J,WAAY,CACV5D,SAAU,IAGZ6D,WAAY,CACVC,YAAajK,EAAMW,QAAQ,GAC3BiG,MAAO,SAGTsD,KAAM,CACJ,YAAa,CACXD,YAAajK,EAAMW,QAAQ,GAC3BwJ,eAAgB,SAIpBlH,MAAO,CACL/C,SAAU,OA4OCkK,EAxOH,WAAM,MAI4BnJ,mBAAS,IAJrC,mBAIRoJ,EAJQ,KAIOC,EAJP,OAMoBrJ,mBAAS,IAN7B,mBAMR3D,EANQ,KAMGiN,EANH,OAQsBtJ,mBAAS,MAR/B,mBAQRpC,EARQ,KAQI2L,EARJ,KAUV7H,EAAU7C,IAGhB8C,qBAAU,WACR,IAAM6F,EAAiBrH,OAAOC,aAAaC,QAAQ,cACnD,GAAImH,EAAgB,CAClB,IAAM5J,EAAaqC,KAAKC,MAAMsH,GAC9B+B,EAAc3L,GACdiE,EAAY3F,SAAS0B,EAAW3B,UAEjC,IAGH0F,qBAAU,WACRI,SAASC,MAAQ,UACjB,IAAIJ,GAAU,EAUd,MATyB,KAArBvF,EAAUgJ,QAAiBhJ,EAAUgJ,OAAOmE,OAAS,GACvD3H,EAAYzF,OAAOC,GAAWO,MAAK,SAAC2E,GAC9BK,GAEFyH,EAAiB9H,MAKhB,kBAAMK,GAAU,KAEtB,CAACvF,IAGJ,IAkCMyH,EAAU,CACdA,QAAS,GAYL2F,EAAQC,YAAc,gBAGtBC,EAAOF,EACTL,EAAcQ,QAAO,SAAAD,GAAI,OAAIA,EAAK1M,KAAOwM,EAAMjN,OAAOS,MAAIyJ,KAAI,SAAAlF,GAAiB,OAAOA,KACtF,KAEJ,OACE,6BACE,kBAACqI,EAAA,EAAD,CAAWC,SAAS,MAClB,yBAAKnG,UAAWjC,EAAQmH,WACtB,kBAACkB,EAAA,EAAD,CAAQC,SAAS,UACf,kBAACC,EAAA,EAAD,CAASrF,QAAQ,SACf,kBAACD,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,UAAUhC,UAAWjC,EAAQM,OAA5D,WAGA,kBAAC2C,EAAA,EAAD,CAAYC,QAAQ,YAAYe,MAAM,WACnC/H,EAAU,uBAAmBA,EAAWwI,UAAa,IAErDxI,EAAa,kBAACyI,EAAA,EAAD,CAAQV,MAAM,UAAUhC,UAAWjC,EAAQqH,WAAYzC,QAjD1D,SAAC5D,GACxB6G,EAAc,MACd1H,EAAY3F,SAAS,MAIrBiE,OAAOC,aAAa8J,SA2CwFlI,MAAM,gBAAgBmI,UAAWC,IAAMC,GAAI,KAA7H,iBAA2J,MAKjL,kBAAC7G,EAAA,EAAD,CACE8G,QAAQ,gBACR1G,WAAS,EACTlE,QAAS,GAET,kBAAC8D,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,6BACE,kBAACc,EAAA,EAAD,CAAahB,UAAWjC,EAAQuH,KAAMrE,QAAQ,SAC5C,kBAAC,IAAD,CAAMK,MAAOnB,EAASuG,GAAG,KAAzB,cAIN,kBAAC7G,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,6BACE,kBAACc,EAAA,EAAD,CAAahB,UAAWjC,EAAQuH,KAAMrE,QAAQ,SAC3ChH,EAAa,GAAK,kBAAC,IAAD,CAAMqH,MAAOnB,EAASuG,GAAG,YAAzB,mBAIzB,kBAAC7G,EAAA,EAAD,CAAME,MAAI,EAACG,GAAI,GACb,6BACA,kBAACc,EAAA,EAAD,CAAahB,UAAWjC,EAAQuH,KAAMrE,QAAQ,SACzChH,EAAa,kBAAC,IAAD,CAAMqH,MAAOnB,EAASuG,GAAG,SAAzB,eAAsD,kBAAC,IAAD,CAAMpF,MAAOnB,EAASuG,GAAG,UAAzB,6BAM5E,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOE,KAAK,YACV,6BACA,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,UACV,6BACA,kBAAC,EAAD,CAAW1C,aA/EG,SAACvH,GACvBiJ,EAAcjJ,GACdH,OAAOC,aAAauH,QAClB,aAAc1H,KAAK2H,UAAUtH,QA8EzB,kBAAC,IAAD,CAAOiK,KAAK,SACV,6BACA,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,gBACV,6BACA,kBAAC,EAAD,CAAYhJ,MAAOoI,KAErB,kBAAC,IAAD,CAAOY,KAAK,KACV,6BAEE,kBAAC/G,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACA,0BAAMiE,UAAWjC,EAAQ+G,gBAAiB+B,YAAU,EAACC,aAAa,OAChE,kBAAC1F,EAAA,EAAD,CAAW9H,GAAG,aAAaoK,KAAK,SAAS3B,MAAM,gCAA6Bd,QAAQ,WAAWF,KAAK,QAAQmB,SA3HnG,SAACnD,GACtBA,EAAMY,OAAOC,MACf8F,EACED,EAAcQ,QAAO,SAACD,GAAD,OACnBA,EAAK1H,WAAWD,MACb0I,cACAC,SAASjI,EAAMY,OAAOC,MAAMmH,oBAInCpB,EAAa,IACbD,EAAiB,KAEnBC,EAAa5G,EAAMY,OAAOC,aAmHhB,kBAACC,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACA,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,YAAYe,MAAM,WAAtC,iBACiByD,EAAgBA,EAAcI,OAAS,KAK5D,kBAAChG,EAAA,EAAD,CAAMI,WAAS,EAACF,MAAI,EAACG,GAAI,IACvB,kBAACL,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACtB0J,EAAgBA,EAAc1C,KAAI,SAACiD,GAAD,OACjC,kBAACnG,EAAA,EAAD,CAAMC,IAAKkG,EAAK1M,GAAIyG,MAAI,GACtB,yBAAKC,UAAWjC,EAAQiH,QAEtB,kBAACiC,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CAAgBV,UAAWC,IAAMC,GAAE,mBAAcV,EAAK1M,KACpD,kBAAC6N,EAAA,EAAD,CAAMnH,UAAWjC,EAAQ2G,UACvB,kBAAC0C,EAAA,EAAD,CACEpH,UAAWjC,EAAQ6G,MACnByC,MAAS,eAAgBrB,EAAK1H,WAAvB,UAAuD0H,EAAK1H,WAAWgC,WAAWC,gBAAlF,UAAwCC,KAC/CC,IAAI,OAAOjF,MAAM,OAAOC,OAAO,UAEjC,kBAAC6L,EAAA,EAAD,KACI,kBAAmBtB,EAAK1H,WACxB,kBAACoC,EAAA,EAAD,CAAQC,KAAK,YAAYf,MAAOoG,EAAK1H,WAAWsC,cAAeC,UAAW,GAAKC,UAAQ,EAACC,KAAK,UAC7F,kBAACL,EAAA,EAAD,CAAQC,KAAK,YAAYf,MAAO,EAAGiB,UAAW,GAAKC,UAAQ,EAACC,KAAK,UAEnE,kBAACC,EAAA,EAAD,CAAYhB,UAAWjC,EAAQoH,WAAYlE,QAAQ,UAAUuF,UAAU,MACpER,EAAK1H,WAAWD,OAEnB,kBAAC2C,EAAA,EAAD,CAAYhB,UAAWjC,EAAQoH,WAAYlE,QAAQ,UAAUe,MAAM,gBAAgBwE,UAAU,KAC1FR,EAAK1H,WAAW4C,QAAuB8E,EAAK1H,WAAW4C,QAxHvEC,KAAK,MAwH6E,aAU9E,KAIT,kBAACtB,EAAA,EAAD,CAAMI,WAAS,EAAClE,QAAS,GACvB,6BACE,6BACA,kBAACiF,EAAA,EAAD,CAAYC,QAAQ,KAAKe,MAAM,oBChUjDuF,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEJpJ,SAASqJ,eAAe,U,mBCxBxBC,EAAOC,QAAU,IAA0B,2C,iBCA3CD,EAAOC,QAAU,k7B","file":"static/js/main.a4c1e66b.chunk.js","sourcesContent":["// Contributor(s): Esa Mäkipää\n//\n// Esa Mäkipää: \n// Promisejen peruskoodi (promise edustaa asynkronisen operaation onnistumista tai \n// epäonnistumista). Olen hyödyntänyt Full stack open 2020 -kurssin (Helsingin yliopisto) materiaalia\n// Lähde: \n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/\n//\n// Kuvaus: Promiset kirjadatan hakuun, kirjan ja/tai arvostelun tallentamiseen,\n// kirjaan liittyvien arvostelujen hakuun, käyttäjän luontiin ja käyttäjän kirjautumiseen.\n// Axios-kirjastoa käytetään selaimen ja palvelimen väliseen kommunikointiin\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license.\n\nimport axios from 'axios'\n/*\n// kirjatiedot Google Books APIsta (hakusana)\nconst baseUrl = 'http://localhost:3001/api/books'\n// kirjatiedot Google Books APIsta (hakusana)\nconst oneBookBaseUrl = 'http://localhost:3001/api/book'\n// kirjan ja/tai arvostelujen käsittely (MongoDB)\nconst myBaseUrl = 'http://localhost:3001/api/myBooks'\n// kirjautuneen käyttäjän kirjoittamat arvostelut\nconst myReviewsBaseUrl = 'http://localhost:3001/api/userReviews'\n// käyttäjän profiilin luonti\nconst createUserBaseUrl = 'http://localhost:3001/api/users'\n// käyttäjän kirjutuminen\nconst loginBaseUrl = 'http://localhost:3001/api/login'\n*/\n// relatiiviset osoitteet\n// kirjatiedot Google Books APIsta (hakusana)\nconst baseUrl = '/api/books'\n// kirjatiedot Google Books APIsta (hakusana)\nconst oneBookBaseUrl = '/api/book'\n// kirjan ja/tai arvostelujen käsittely (MongoDB)\nconst myBaseUrl = '/api/myBooks'\n// kirjautuneen käyttäjän kirjoittamat arvostelut\nconst myReviewsBaseUrl = '/api/userReviews'\n// käyttäjän profiilin luonti\nconst createUserBaseUrl = '/api/users'\n// käyttäjän kirjutuminen\nconst loginBaseUrl = '/api/login'\n\n\nlet token = null\n\n// tokenin asettaminen\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\n// kirjojen haku Google Books APIsta\nconst getAll = newFilter => {\n  const request = axios.get(baseUrl, {\n    params: {\n        q: `${newFilter}`,\n        maxResults: 12,\n        projection: 'full'\n    }\n  })\n  return request.then(response => response.data.data.items)\n}\n\n// yhden kirjan haku tietokannasta kirjan id:n avulla (MongoDB)\nconst getOne = id => {\n  const request = axios.get(oneBookBaseUrl + '/' + id, {\n    params: {\n      projection: 'full'\n    }  \n  })\n  return request.then(response => response.data.data)\n}\n\n// kirjan ja/tai arvostelujen tallentaminen tietokantaan (MongoDB)\nconst create = newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const request = axios.post(myBaseUrl, newObject, config)\n  return request.then(response => response.data)\n}\n\n// kirjan kaikkien arvostelujen haku tietokannasta (MongoDB)\nconst getReviews = id => {\n  const request = axios.get(myBaseUrl + '/' + id)\n  return request.then(response => response.data)\n}\n\n// kirjan arvostelujen haku tietokannasta kirjautuneelle käyttäjälle (MongoDB)\nconst getUserReviews = (loggedUser) => {\n  setToken(loggedUser.token)\n  const config = {\n    headers: { Authorization: token },\n  }\n  const request = axios.get(myReviewsBaseUrl, config)\n  return request.then(response => response.data)\n}\n\n// käyttäjän luonti ja tallennus tietokantaan (MongoDB)\nconst createUser = async newUserObject => {\n  const response = await axios.post(createUserBaseUrl, newUserObject)\n  return response.data\n}\n\n// käyttäjän kirjautuminen\nconst loginUser = async credentials => {\n  const response = await axios.post(loginBaseUrl, credentials)\n  return response.data\n}\n\nexport default {\n  getAll,\n  getOne,\n  create,\n  getReviews,\n  getUserReviews,\n  createUser,\n  loginUser,\n  setToken\n}","// Contributor(s): Esa Mäkipää, Juho Hyödynmaa, Taika Tulonen\n//\n// Esa Mäkipää:\n// Näkymän luonnin perusrunko. Olen hyödyntänyt Full stack open 2020 -kurssilla\n// (Helsingin yliopisto) oppimiani asioita\n// Lähde:\n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/ \n//\n// Juho Hyödynmaa:\n// Kirjakortin lataus kirjaid:n perusteella, päivämäärän muodon määrittely, kirjailijoiden listaus\n//\n// Taika Tulonen:\n// Material-UI komponenttien hyödyntäminen (esim. Grid)\n//\n// Kuvaus: Yksittäisen kirjan näkymä valituilla tiedoilla. Näkymässä voidaan\n// kirjoittaa ja lähettää arvostelu sekä näyttää kirjaan liittyvät arvostelut.\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license. \n\nimport React, { useState, useEffect } from \"react\";\n// promiset\nimport bookService from \"../services/data\";\n// KirjApp-logo esim. tulostumaan tyhjä kansikuvan tilalle\nimport NoImage from \"../KirjApp_logo2.svg\";\n// tyylit\nimport { makeStyles } from \"@material-ui/core/styles\";\n// grid\nimport Grid from \"@material-ui/core/Grid\";\n// tekstikenttä\nimport TextField from '@material-ui/core/TextField';\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n// Router (useParams)\nimport { useParams } from \"react-router-dom\"\n// kirjan kansikuvan näyttäminen\nimport { Img } from 'react-image';\n// tekstikenttien näyttäminen\nimport FormGroup from '@material-ui/core/FormGroup';\n// painonappi arvostelun lähettämiseen\nimport Button from '@material-ui/core/Button';\n// tähtien antaminen\nimport Rating from '@material-ui/lab/Rating'; //vaatinee asennuksen: npm install @material-ui/lab\n// box\nimport Box from '@material-ui/core/Box';\n// ilmoitusten näyttäminen (virheet ja onnistuneet toiminnot)\nimport Alert from '@material-ui/lab/Alert';\n// arvostelujen erottamiseen toisistaan\nimport Divider from '@material-ui/core/Divider';\n\n// tähtien arvoa vastaavat sanalliset kuvaukset\nconst labels = {\n  0.5: 'Hyödytön',\n  1: 'Hyödytön+',\n  1.5: 'Huono',\n  2: 'Huono+',\n  2.5: 'Ok',\n  3: 'Ok+',\n  3.5: 'Hyvä',\n  4: 'Hyvä+',\n  4.5: 'Erinomainen',\n  5: 'Erinomainen+',\n};\n\nconst useStyles = makeStyles((theme) => ({\n  // kirjakortti (Paper Material-UI -komponentti)\n  root: {\n    flexGrow: 1,\n  },\n  // tähtikenttä tähtien syöttämiseen arvostelun yhteydessä\n  inputRating: {\n    width: 200,\n    height: 50,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  // tähtikenttä tähtien näyttämiseen arvostelujen listauksessa\n  outputRating: {\n    width: 150,\n    height: 20,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  // viesti arvostelun lisäämisen onnistumisesta tai epäonnistumisesta\n  message: {\n    width: '70%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  // arvostelujen välinen jakoviiva (viivan väri)\n  divider: {\n    backgroundColor: \"#E5E5E5\",\n  },\n}));\n\nconst ReviewPage = ( props ) => {\n  // kirja id\n  const id = useParams().id\n  // kirjautunut käyttäjä\n  const [ user, ] = useState(JSON.parse(window.localStorage.getItem(\"loggedUser\")) || null);\n  // nimimerkki\n  const [ writer, setWriter ] = useState(\"\");\n  // arvosteluteksti\n  const [ reviewText, setReviewText ] = useState(\"\");\n  // kirjan arvostelut\n  const [ reviewsToShow, setReviewsToShow ] = useState([]);\n  // arvostelu tähdillä\n  const [stars, setStars] = React.useState(0);\n  const [hover, setHover] = React.useState(-1);\n  // Viestit\n  const [ message, setMessage ] = useState(null)\n  const [ messageType, setMessageType ] = useState(\"\")\n  // tila LÄHETÄ-painonapille\n  const [ buttonPressed, setButtonPressed ] = useState(false)\n  // valittu kirja\n  const [ selectedBook, setSelectedBook ] = useState(props.books);\n\n  const classes = useStyles();\n  \n  // Esa Mäkipää, Juho Hyödynmaa\n  // haetaan kirja (getOne()) ja kirjan arvostelut (getReviews) (parametrina kirjan id)\n  useEffect(() => {\n    let mounted = true\n    // haetaan kirja Google Books APIsta (Contributor:Juho Hyödynmaa)\n    bookService\n    .getOne(id)\n    .then(returnedBook => {\n      if (mounted) {\n        setSelectedBook(returnedBook)\n      }\n      // asetetaan sivun otsikko\n      document.title = \"KirjApp: \" + returnedBook.volumeInfo.title\n    });\n    // haetaan kirjan arvostelut tietokannasta (MongoDB)\n    bookService\n      .getReviews(id)\n      .then(returnedReviews => {\n        if (mounted) {\n          if (returnedReviews) { \n            returnedReviews.forEach(review => {\n              review.date = modifyDate(review.date)\n            }) \n          }\n          setReviewsToShow(returnedReviews)\n          if (buttonPressed) {\n            setButtonPressed(false)\n          }\n        } \n      });\n      return () => {\n        document.title = \"KirjApp\"\n        mounted = false;\n      }\n  }, [props.books, id, buttonPressed]);\n  \n  // Contributor: Juho Hyödynmaa\n  // muokataan Date haluttuun muotoon. tulee funktioon muodossa\n  // 2020-10-01T12:28:52.033Z (String)\n  const modifyDate = (date) => {\n      return date.substr(11,5) + \" GMT - \" + date.substr(8,2) + '.' + date.substr(5,2) + '.' + date.substr(0,4)\n  }\n\n  // lisää kirja ja/tai arvostelu\n  const addBook = (event) => {\n    event.preventDefault()\n    \n    const bookObject = {\n      book_title: selectedBook.volumeInfo.title,\n      book_id: id,\n      writer: writer,\n      reviewtext: reviewText,\n      stars: stars\n    }\n\n    setWriter(\"\")\n    setReviewText(\"\")\n    setStars(0)\n      \n    // lisää kirjan ja arvostelun tiedot (book object)\n    bookService\n      .create(bookObject)\n      .catch(error => {\n        console.log(error)\n        setMessage(\"Arvostelusi tallentamisessa tapahtui virhe\")\n        setMessageType(\"error\")   \n      })\n      setMessage(\"Arvostelusi on tallennettu\")\n      setMessageType(\"success\")\n      // varmistetaan arvostelun tallentuminen ennen kuin buttonPressed aiheuttaa uuden arvostelujen haun\n      setTimeout(() => {\n        setButtonPressed(true)\n      }, 500)\n  }       \n    \n  // asetetaan nimimerkki\n  const handleWriterChange = (event) => {\n    setWriter(event.target.value)\n  }\n    \n  // asetetaan arvosteluteksti\n  const handleReviewChange = (event) => {\n    setReviewText(event.target.value)\n  }\n  \n  // Contributor: Juho Hyödynmaa\n  // näytetään kirjailijat halutussa muodossa\n  const splitAuthors = (authors) => {\n    return authors.join(', ')\n  }\n \n  // Contributor: Esa Mäkipää\n  // poistetan tekstistä html-merkinnät (esim. <i>, </p>, &quot;)\n  const cleanText = (textWithHTMLTags) => {\n    return textWithHTMLTags.replace(/(<([^>]+)>)|(&quot;){0,1}/ig, '').trim()\n  }\n\n  return (\n    <div>\n      <br /> \n        <Grid key={selectedBook.id} item>\n          <div className={classes.root}>\n            <Grid container spacing={1}>\n              <Grid container item xs={12} spacing={0} padding={0}>\n                <Grid item xs={5}>\n\n                  <Img  \n                    src={!(\"imageLinks\" in Object(selectedBook.volumeInfo)) ? `${NoImage}` : `${selectedBook.volumeInfo.imageLinks.smallThumbnail}`}\n                    alt=\"Book\" width=\"170px\" height=\"250px\"\n                  /> \n                    \n                  <div className={classes.outputRating}>\n                    {(\"averageRating\" in Object(selectedBook.volumeInfo)) ? \n                      <Rating name=\"read-only\" value={selectedBook.volumeInfo.averageRating} precision={0.5} readOnly size=\"medium\"/> :\n                      <Rating name=\"read-only\" value={0} precision={0.5} readOnly size=\"medium\"/>\n                    }\n                    <Typography variant=\"subtitle1\">\n                      {(\"averageRating\" in Object(selectedBook.volumeInfo)) ? \n                        <div>\n                          ({selectedBook.volumeInfo.averageRating})\n                        </div> :\n                        <div> \n                          (0)\n                        </div>  \n                      }\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={7}>\n                  <Typography variant=\"subtitle2\">\n                    {Object(selectedBook.volumeInfo).title}\n                  </Typography>\n                  <br />\n                  <Typography variant=\"body2\">  \n                    Tekijä(t): {Object(selectedBook.volumeInfo).authors ? splitAuthors(selectedBook.volumeInfo.authors) : \"\"}\n                  </Typography>\n                  <br />\n                  <Typography variant=\"caption\">\n                    {(\"description\" in Object(selectedBook.volumeInfo)) ? \n                      <div>\n                        <TextField id=\"description\" inputProps={{style: {fontSize: 14}}} value={cleanText(selectedBook.volumeInfo.description)} variant=\"outlined\" multiline size=\"small\" rows=\"8\" rowsMax=\"8\" fullWidth label=\"Kuvaus:\"/>\n                      </div> :\n                      <div> \n                      </div>  \n                    }\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </div>\n        </Grid>\n\n      <Grid container spacing={0}>\n        <div>\n          <br />\n            <Typography variant=\"h6\" color=\"inherit\">\n              Kirjoita arvostelu\n            </Typography>\n        </div>  \n      </Grid>\n\n      <Grid container spacing={2}>  \n        <div>\n          <FormGroup>\n            <span>&nbsp;</span>\n            {user ? <TextField id=\"writer\" value={writer} variant=\"outlined\" size=\"small\" onChange={handleWriterChange} label=\"Nimimerkki\"/> : <TextField id=\"writer\" value={writer} variant=\"outlined\" size=\"small\" onChange={handleWriterChange} label=\"Nimimerkki\"/>}\n          </FormGroup>\n        </div>\n        <div style={{width: \"100%\"}}>\n          <FormGroup>\n            <span>&nbsp;</span>\n            <TextField id=\"review\" value={reviewText} variant=\"outlined\" multiline size=\"small\" rowsMax=\"4\" fullWidth onChange={handleReviewChange} label=\"Kirjoita arvostelu\"/>\n            <div className={classes.inputRating}>\n              <Rating\n                name=\"hover-feedback\"\n                value={stars}\n                precision={0.5}\n                onChange={(event, newValue) => {\n                  setStars(newValue);\n                }}\n                onChangeActive={(event, newHover) => {\n                  setHover(newHover);\n                }}\n              />\n              <div>\n                <Typography variant=\"caption\">\n                  {stars !== null && <Box ml={2} p={0}>{labels[hover !== -1 ? hover : stars]}</Box>}\n                </Typography>\n              </div>\n            </div>\n          </FormGroup>\n          <br />\n          <Grid container spacing={1}>\n            <Grid container item xs={12} spacing={0} padding={0}>\n              <Grid item xs={4}>\n                <div>\n                  {((user ? user.username : writer) && reviewText && stars) ? <Button variant=\"contained\" id={\"addButton\"} onClick={addBook}>Lähetä</Button> : <Button variant=\"contained\" id={\"addButton\"} disabled onClick={addBook}>Lähetä</Button>}   \n                </div>\n              </Grid>\n              <Grid item xs={8}>\n                <div className={classes.message}>\n                  {message ? <Alert severity={messageType}>{message}</Alert> : null}\n                </div>\n              </Grid>\n            </Grid>\n          </Grid> \n        </div>\n      </Grid>\n      \n      <br />\n      <Grid container spacing={0}>\n        <div>\n          <br />\n          <Typography variant=\"h6\" color=\"inherit\">\n            KirjApp-käyttäjien antamat arvostelut:\n          </Typography>\n          <br />\n        </div>  \n      </Grid>\n      \n      {reviewsToShow ? reviewsToShow.map((review) => (        \n        <div key={review._id}>\n          <div className={classes.root}>\n            <Grid container spacing={1}>\n              <Grid container item xs={12} spacing={0} padding={0}>\n                <Grid item xs={2}>\n                  <Typography variant=\"caption\">\n                    KirjApp tähdet:\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <div className={classes.outputRating}>\n                    <Rating name=\"read-only\" value={review.stars} precision={0.5} readOnly size=\"small\"/>\n                  </div>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"caption\">\n                    {review.date}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container item xs={12} spacing={0}>\n                <Grid item xs={12}>\n                  <Typography variant=\"caption\">\n                    \"{review.reviewtext}\" - {review.writer}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </div>\n          <Divider className={classes.divider} />\n        </div>\n      )) : <Typography variant=\"body1\">Teokselle ei löydy arvosteluja.</Typography>}     \n    </div>     \n  )\n}\nexport default ReviewPage;","// Contributor(s): Esa Mäkipää\n//\n// Esa Mäkipää: \n// Näkymän luonnin perusrunko. Olen hyödyntänyt Full stack open 2020 -kurssilla\n// (Helsingin yliopisto) oppimiani asioita\n// Lähde:\n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/ \n//\n// Kuvaus: Profiilin luonti sovellukseen. Näkymässä voidaan luoda\n// käyttäjän profiili antamalla nimimerkki ja salasana, jotka tallennetaan\n// tietokantaan\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license. \n\nimport React, { useState } from \"react\";\n// promiset\nimport bookService from \"../services/data\";\n// tyylit\nimport { makeStyles } from \"@material-ui/core/styles\";\n// grid\nimport Grid from \"@material-ui/core/Grid\";\n// tekstikenttä\nimport TextField from '@material-ui/core/TextField';\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n// tekstikenttien näyttäminen\nimport FormGroup from '@material-ui/core/FormGroup';\n// painonappi\nimport Button from '@material-ui/core/Button';\n// ilmoitusten näyttäminen (virheet ja onnistuneet toiminnot)\nimport Alert from '@material-ui/lab/Alert';\n// navigointi\nimport { useHistory } from \"react-router-dom\"\n\nconst useStyles = makeStyles((theme) => ({\n  // viestien asetukset (arvostelun lisäämisen onnistuminen tai epäonnistuminen)\n  message: {\n    width: '70%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst CreateProfilePage = () => {\n\n  // history-olio, jota voidaan käyttää navigoinnissa \n  const history = useHistory()\n\n  // nimimerkki\n  const [ writer, setWriter ] = useState(\"\");\n  // salasana\n  const [ password, setPassword ] = useState(\"\");\n  // Viestit\n  const [ message, setMessage ] = useState(null)\n  const [ messageType, setMessageType ] = useState(\"\")\n\n  const classes = useStyles();\n\n  // profiilin luonti\n  const createProfile = async (event) => {\n    event.preventDefault()\n\n    // muodostetaan käyttäjä-objekti\n    const newUserObject = {\n      username: writer,\n      password: password,\n    }\n  \n    setWriter('')\n    setPassword('')\n    // luodaan ja tallennetaan käyttäjä\n    const newUser = await bookService\n      .createUser(newUserObject)  \n      .catch (error =>  {\n        setMessageType(\"error\")\n        setMessage(error.response.data.error)\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n    if (newUser) {  \n      setMessageType(\"success\")\n      setMessage(`Käyttäjä ${newUser.username} on tallennettu`)\n      setTimeout(() => {\n        setMessage(null)\n        // onnnistuneen profiilin luonnin jälkeen näytetään etusivu (kirjojen haku)\n        history.push(\"/\")\n      }, 2000)\n    }\n  }  \n\n  // asetetaan nimimerkki\n  const handleWriterChange = (event) => {\n    setWriter(event.target.value)\n  }\n    \n  // asetetaan arvostelu\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value)\n  }\n  \n  return (\n    <div>\n      <br />\n      <Grid container spacing={0}>\n        <div>\n          <br />\n            <Typography variant=\"h6\" color=\"inherit\">\n              Profiilin luonti\n            </Typography>\n        </div>  \n      </Grid>    \n\n      <Grid container spacing={2}>  \n        <div>\n        <FormGroup>\n            <span>&nbsp;</span>\n            <TextField id=\"writer\" value={writer} variant=\"outlined\"  size=\"small\" onChange={handleWriterChange} label=\"Nimimerkki\"/>\n            <span>&nbsp;</span>\n            <TextField id=\"password\" value={password} variant=\"outlined\" size=\"small\" type=\"password\" onChange={handlePasswordChange} label=\"Salasana\"/>            \n          </FormGroup>\n        </div>\n        <div style={{width: \"100%\"}}>\n          <br />\n          <Grid container spacing={1}>\n            <Grid container item xs={12} spacing={0} padding={0}>\n              <Grid item xs={4}>\n                <div>\n                  {(writer && password) ? <Button variant=\"contained\" id={\"createProfileButton\"} onClick={createProfile} title=\"Luo profiili\">Luo profiili</Button> : <Button variant=\"contained\" id={\"createProfileButton\"} disabled onClick={createProfile}> Luo profiili</Button>}   \n                </div>\n              </Grid>\n              <Grid item xs={8}>\n                <div className={classes.message}>\n                  {message ? <Alert severity={messageType}>{message}</Alert> : null}\n                </div>\n              </Grid>\n            </Grid>\n          </Grid> \n        </div>\n      </Grid>        \n    </div>     \n  )\n}\n\nexport default CreateProfilePage;\n","// Contributor(s): Esa Mäkipää\n//\n// Esa Mäkipää: \n// Näkymän luonnin perusrunko. Olen hyödyntänyt Full stack open 2020 -kurssilla\n// (Helsingin yliopisto) oppimiani asioita\n// Lähde:\n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/\n//\n// Kuvaus: Näkymässä voidaan kirjautua sovellukseen antamalla\n// nimimerkki ja salasana\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license. \n\nimport React, { useState, useEffect } from \"react\";\n// promiset\nimport bookService from \"../services/data\";\n// tyylit\nimport { makeStyles } from \"@material-ui/core/styles\";\n// grid\nimport Grid from \"@material-ui/core/Grid\";\n// tekstikenttä\nimport TextField from '@material-ui/core/TextField';\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n// tekstikenttien näyttäminen\nimport FormGroup from '@material-ui/core/FormGroup';\n// painonappi\nimport Button from '@material-ui/core/Button';\n// ilmoitusten näyttäminen (virheet ja onnistuneet toiminnot)\nimport Alert from '@material-ui/lab/Alert';\n// navigointi\nimport { useHistory } from \"react-router-dom\"\n\nconst useStyles = makeStyles((theme) => ({\n  // viestien asetukset (arvostelun lisäämisen onnistuminen tai epäonnistuminen)\n  message: {\n    width: \"70%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst LoginPage = ( props ) => {\n\n  // history-olio, jota voidaan käyttää navigoinnissa \n  const history = useHistory()\n\n  // kirjautunut käyttäjä\n  const [ , setUser ] = useState(null); \n  // nimimerkki\n  const [ writer, setWriter ] = useState(\"\");\n  // salasana\n  const [ password, setPassword ] = useState(\"\");\n  // Viestit\n  const [ message, setMessage ] = useState(null)\n  const [ messageType, setMessageType ] = useState(\"\")\n\n  const classes = useStyles();\n  \n  // kirjautuneen käyttäjän haku local storagesta\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem(\"loggedUser\")\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      bookService.setToken(user.token)\n    }\n  }, [])\n  \n  // kirjautuminen\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    \n    // käyttäjä-objekti\n    const userObject = {\n      username: writer,\n      password: password,\n    }\n  \n    setWriter(\"\")\n    setPassword(\"\")\n    // kirjautuminen\n    const loggedUser = await bookService\n      .loginUser(userObject)\n      .catch (error =>  {\n        setMessageType(\"error\")\n        setMessage(error.response.data.error)\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n    if (loggedUser) {\n      window.localStorage.setItem(\n        \"loggedUser\", JSON.stringify(loggedUser)\n      )\n      // asetetaan token kirjautuneelle käyttäjälle\n      bookService.setToken(loggedUser.token)\n      await setUser(loggedUser)\n      // palautetaan tieto kirjutuneesta etusivulle\n      props.onLoggedUser(loggedUser)\n      setMessageType(\"success\")\n      setMessage(`Käyttäjä ${loggedUser.username} on kirjautunut`)\n      setTimeout(() => {\n        setMessage(null)\n        // onnnistuneen kirjautumisen jälkeen näytetään etusivu (kirjojen haku)\n        history.push(\"/\")\n      }, 1000)\n    }\n  }\n\n  // asetetaan nimimerkki\n  const handleWriterChange = (event) => {\n    setWriter(event.target.value)\n  }\n    \n  // asetetaan arvostelu\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value)\n  }\n\t\n  return (\n    <div>\n      <br />\n      <Grid container spacing={0}>\n        <div>\n          <br />\n            <Typography variant=\"h6\" color=\"inherit\">\n              Kirjautuminen\n            </Typography>\n        </div>  \n      </Grid>    \n\n      <Grid container spacing={2}>\n        <div>\n          <FormGroup>\n            <span>&nbsp;</span>\n            <TextField id=\"writer\" value={writer} variant=\"outlined\"  size=\"small\" onChange={handleWriterChange} label=\"Nimimerkki\"/>\n            <span>&nbsp;</span>\n            <TextField id=\"password\" value={password} variant=\"outlined\" size=\"small\" type=\"password\" onChange={handlePasswordChange} label=\"Salasana\"/>            \n          </FormGroup>\n        </div>\n        <div style={{width: \"100%\"}}>     \n          <br />\n          <Grid container spacing={1}>\n            <Grid container item xs={12} spacing={0} padding={0}>\n              <Grid item xs={4}>\n                <div>\n                  {(writer && password) ? <Button variant=\"contained\" id={\"loginButton\"} onClick={handleLogin} title=\"Kirjaudu sisään\"> Kirjaudu sisään</Button> : <Button variant=\"contained\" id={\"loginButton\"} disabled onClick={handleLogin}> Kirjaudu sisään</Button>}   \n                </div>\n              </Grid>\n              <Grid item xs={8}>\n                <div className={classes.message}>\n                  {message ? <Alert severity={messageType}>{message}</Alert> : null}\n                </div>\n              </Grid>\n            </Grid>\n          </Grid> \n        </div>\n      </Grid>\n    </div>\n  )\n}\n\nexport default LoginPage;\n","// Contributor(s): Esa Mäkipää, Juho Hyödynmaa\n//\n// Esa Mäkipää: \n// Näkymän luonnin perusrunko. Olen hyödyntänyt Full stack open 2020 -kurssilla\n// (Helsingin yliopisto) oppimiani asioita\n// Lähde:\n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/\n//\n// Juho Hyödynmaa: \n// Päivämäärän muodon määrittely\n//\n// Kuvaus: Näkymässä näytetään kirjautuneen käyttäjän tiedot (nimimerkki)\n// ja painonappi käyttäjän kirjoittamien arvostelujen näyttämiseen\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license. \n\nimport React, { useState, useEffect } from \"react\";\n// promiset\nimport bookService from \"../services/data\";\n// tyylit\nimport { makeStyles } from \"@material-ui/core/styles\";\n// grid\nimport Grid from \"@material-ui/core/Grid\";\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n// painonappi\nimport Button from '@material-ui/core/Button';\n// tähtien antaminen\nimport Rating from '@material-ui/lab/Rating'; //vaatinee asennuksen: npm install @material-ui/lab\n// arvostelujen erottamiseen toisistaan\nimport Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  // kirjakortti (Paper Material-UI -komponentti)\n  root: {\n    flexGrow: 1,\n  },\n  inputRating: {\n    width: 200,\n    height: 50,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  // tähtikenttä tähtien näyttämiseen\n  outputRating: {\n    width: 150,\n    height: 20,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  // viesti arvostelun lisäämisen onnistumisesta tai epäonnistumisesta\n  message: {\n    width: '70%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  // arvostelujen välinen jakoviiva (viivan väri)\n  divider: {\n    backgroundColor: \"#E5E5E5\",\n  },\n}));\n\nconst UserPage = () => {\n\n  // nimimerkki\n  const [ writer, setWriter ] = useState(JSON.parse(window.localStorage.getItem(\"loggedUser\")));\n  // kirjan arvostelut\n  const [ userReviewsToShow, setUserReviewsToShow ] = useState([]);\n  // tila NÄYTÄ/PIILOTA ARVOSTELUNI -painonapille\n  const [ userReviewsShown, setUserReviewsShown ] = useState(false)\n\n  const classes = useStyles();\n\n  useEffect(() => { \n    const loggedUserJSON = window.localStorage.getItem(\"loggedUser\")\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setWriter(user)\n      bookService.setToken(user.token)\n    }\n  }, [])\n\n  // Contributor: Juho Hyödynmaa\n  // muokataan Date haluttuun muotoon, tulee funktioon muodossa\n  // 2020-10-01T12:28:52.033Z (String)\n  const modifyDate = (date) => {\n\t  return date.substr(11,5) + \" GMT - \" + date.substr(8,2) + '.' + date.substr(5,2) + '.' + date.substr(0,4)\n  }\n\n  // näytetään käyttäjän arvostelut asettamalla\n  // setUserReviewsShown arvoksi true. Haetaan arvostelut\n  // kirjautuneelle käyttäjälle \n  const handleShowUserReviews = async (event) => {\n    //event.preventDefault()\n    setUserReviewsShown(true)\n    const userReviews = await bookService\n      .getUserReviews(writer)\n\n    userReviews.forEach(review => {\n      review.date = modifyDate(review.date)\n    })\n\n    // virhekäsittely!\n    setUserReviewsToShow(userReviews) \n  }\n  \n  // piilotetaan käyttäjän arvostelut näkyvistä asettamalla\n  // setUserReviewsShown arvoksi false\n  const handleHideUserReviews = (event) => {\n    //event.preventDefault()\n    setUserReviewsShown(false)\n    setUserReviewsToShow([])\n  }\n\n  return (\n    <div>\n      <Typography variant=\"body1\">\n        Nimimerkki: {writer.username}\n      </Typography>\n      <div>\n        <br />\n        {userReviewsShown ? <Button variant=\"contained\" id={\"hideReviewsButton\"} onClick={handleHideUserReviews}> Piilota arvosteluni</Button> : <Button variant=\"contained\" id={\"showReviewsButton\"} onClick={handleShowUserReviews}> Näytä arvosteluni</Button>}   \n      </div>\n      \n      <Grid container spacing={0}>\n        <div>\n          <br />\n          <Typography variant=\"h6\" color=\"inherit\">\n            {userReviewsShown ? \"Kirjoittamani arvostelut: \" : \"\"}\n          </Typography>\n          <br />\n        </div>  \n      </Grid>\n      \n      {userReviewsToShow ? userReviewsToShow.map((review) => (        \n        <div key={review._id}>\n          <div className={classes.root}>\n            <Grid container spacing={1}>\n              <Grid container item xs={12} spacing={0}>\n                <Grid item xs={12}>\n                  <Typography variant=\"caption\">\n                    {review.book_title ? review.book_title : \"\"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container item xs={12} spacing={0} padding={0}>\n                <Grid item xs={2}>\n                  <Typography variant=\"caption\">\n                    KirjApp tähdet:\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <div className={classes.outputRating}>\n                    <Rating name=\"read-only\" value={review.stars} precision={0.5} readOnly size=\"small\"/>\n                  </div>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography variant=\"caption\">\n                    {review.date}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container item xs={12} spacing={0}>\n                <Grid item xs={12}>\n                  <Typography variant=\"caption\">\n                    \"{review.reviewtext}\" - {review.writer}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </div>\n          <Divider className={classes.divider} />\n        </div>\n      )) : <div><Typography variant=\"body1\">\n          {userReviewsShown ? \"Et ole vielä kirjoittanut arvosteluja\" : \"\"}\n        </Typography></div>}\n    </div>     \n  )\n}\n\nexport default UserPage;\n","// Contributor(s): Esa Mäkipää, Taika Tulonen, Juho Hyödynmaa\n//\n// Esa Mäkipää: \n// Kirjadatan haun ja näkymän luonnin perusrunko. Olen hyödyntänyt \n// Full stack open 2020 -kurssilla (Helsingin yliopisto) oppimiani asioita\n// Lähde:\n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/ \n//\n// Taika Tulonen:\n// Alustava käyttöliittymän rakennus Material-UI komponenteilla\n// kirjadatan näyttämiseksi kortteina\n//\n// Juho Hyödynmaa:\n// Bugien korjausta\n//\n// Kuvaus: Sovelluksen pääsivu. Luo käyttöliittymän hakusanan kirjoittamiselle \n// ja hakutulosten näyttämiselle. Sovellus hakee kirjoja hakusanaa kirjoitettaessa\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license. \n\nimport React, { useState, useEffect } from \"react\";\n// yksittäisen kirjan sivu\nimport ReviewPage from \"./components/ReviewPage\";\n// profiilin luonti\nimport CreateProfilePage from \"./components/CreateProfilePage\";\n// kirjautuminen\nimport LoginPage from \"./components/LoginPage\";\n// kirjautuneen käyttäjän tiedot\nimport UserPage from \"./components/UserPage\";\n// promiset\nimport bookService from \"./services/data\";\n// tyhjä kuva (, jos kirjatiedoissa ei ole kansikuvaa)\nimport NoImage from \"./noImage.png\";\n// tyylit\nimport { makeStyles } from \"@material-ui/core/styles\";\n// grid\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\n// tekstikenttä\nimport TextField from '@material-ui/core/TextField';\n// painonappi\nimport Button from '@material-ui/core/Button';\n// kirja-kortti painonapiksi\nimport ButtonBase from '@material-ui/core/ButtonBase';\n// Switch, Route, Link\nimport { Switch, Route, Link, useRouteMatch } from \"react-router-dom\"\n// sovelluksen otsikko\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n// tekstityylit\nimport Typography from '@material-ui/core/Typography';\n// tähtien antamiseen\nimport Rating from '@material-ui/lab/Rating'; //vaatinee asennuksen: npm install @material-ui/lab\n// kirjakortin muodostamiseen\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst useStyles = makeStyles((theme) => ({\n  // kirjakortti\n  bookCard: {\n    height: 250,\n    width: 130,\n    backgroundColor: \"#E5E5E5\",\n    padding: theme.spacing(0),\n    flexWrap: \"nowrap\",\n  },\n  // kirjakorttiin sijoitettava kirjan kansikuva\n  media: {\n    height: 120,\n    width: 130,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  // syötekenttä hakusanalle\n  filterTextField: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"70ch\",\n    },\n    backgroundColor: \"#FFFFFF\",\n  },\n  // kirjakortin painonappi\n  button: {\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    minWidth: 130,\n    width: \"100%\",\n  },\n  // sovelluksen otsikkopalkki\n  appHeader: {\n    flexGrow: 1,\n    width: \"70ch\"\n    //bacgroundColor: \"#E5E5E5\"\n  },\n  // tekstin asettelu kirjakortissa\n  typography: {\n    fontSize: 10,\n  },\n  // Kirjaudu ulos -painonappi\n  menuButton: {\n    marginRight: theme.spacing(1),\n    color: \"black\"\n  },\n  // linkkien (esim. Etusivu, Luo Profiili, Kirjaudu sisään) asettelu\n  link: {\n    '& > * + *': {\n      marginRight: theme.spacing(2),\n      textDecoration: \"none\",\n    }, \n  },\n  // sovelluksen nimi otsikkopalkissa\n  title: {\n    flexGrow: 1,\n  },   \n}));\n\nconst App = () => {\n  // varattu suositeltavien/suosituimpien kirjojen käsittelyyn?\n  //const [recommendedBooks, setRecommendedBooks] = useState([]);\n  // hakusanan tuottamat kirjat\n  const [ selectedBooks, setSelectedBooks ] = useState([]);\n  // hakusana\n  const [ newFilter, setNewFilter ] = useState(\"\");\n  // kirjautunut käyttäjä\n  const [ loggedUser, setLoggedUser ] = useState(null);\n    \n  const classes = useStyles();\n\n  // kirjautuneen käyttäjän haku local storagesta\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem(\"loggedUser\")\n    if (loggedUserJSON) {\n      const loggedUser = JSON.parse(loggedUserJSON)\n      setLoggedUser(loggedUser)\n      bookService.setToken(loggedUser.token)\n    }   \n  }, [])\n\n  // hakusanaa vastaavien kirjojen haku serveriltä\n  useEffect(() => {\n    document.title = \"KirjApp\"\n    let mounted = true\n    if (newFilter.trim() !== \"\" && newFilter.trim().length > 0) {\n      bookService.getAll(newFilter).then((books) => {\n        if (mounted) {\n          // asetetaan valitut kirjat\n          setSelectedBooks(books);\n        }\n      });\n    }\n\n    return () => mounted = false;\n\n  }, [newFilter]);\n\n  // tapahtumankäsittelijä hakusanalle\n  const handleFilterChange = (event) => {\n    if (event.target.value) {\n      setSelectedBooks(\n        selectedBooks.filter((book) =>\n          book.volumeInfo.title\n            .toLowerCase()\n            .includes(event.target.value.toLowerCase())\n        )\n      );\n    } else {\n      setNewFilter(\"\");\n      setSelectedBooks([]);\n    }\n    setNewFilter(event.target.value);\n  };\n \n  // tapahtumankäsittelijä uloskirjautumiselle\n  const handleUserLogout = (event) => {\n    setLoggedUser(null)\n    bookService.setToken(null)\n    // poistetaan kirjautuneen käyttäjän tieodt local stragesta\n    //window.localStorage.removeItem(\"loggedUser\")\n    // poistetaan kaikki tallennettu tieto local storagesta \n    window.localStorage.clear() \n  };\n\n  // tapahtumankäsittelijä käyttäjän kirjautumiselle\n  const handleUserLogin = (user) => {\n    setLoggedUser(user)\n    window.localStorage.setItem(\n      \"loggedUser\", JSON.stringify(user)\n    )\n  };\n\n  const padding = {\n    padding: 5\n  };\n  \n // Contributor: Juho Hyödynmaa\n // näytetään kirjailijat halutussa muodossa\n  const splitAuthors = (authors) => {\n    return authors.join(', ')\n  }\n\n  // Contributor: Esa Mäkipää\n  // klikatun kirjakortin (kirjan) tiedot välitetään ReviewPage-komponentille\n  // selvitetään klikatun kirjan id useRouteMatch-hookin avulla\n  const match = useRouteMatch(\"/reviews/:id\")\n  // tallennetaan id:tä vastaava kirja muuttujaan book\n  // filteröidään kirja näkymässä olevien kirjojen joukosta \n  const book = match\n    ? selectedBooks.filter(book => book.id === match.params.id).map(selectedBook => {return selectedBook})\n    : null\n\n  return (\n    <div>\n      <Container maxWidth=\"sm\">\n        <div className={classes.appHeader}>\n          <AppBar position=\"static\">\n            <Toolbar variant=\"dense\">\n              <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\n                KirjApp\n              </Typography>\n              <Typography variant=\"subtitle2\" color=\"inherit\">\n                {loggedUser ? `Kirjautunut: ${loggedUser.username}` : \"\"}\n              </Typography>\n                {loggedUser ? <Button color=\"inherit\" className={classes.menuButton} onClick={handleUserLogout} title=\"Kirjaudu ulos\" component={Link} to={\"/\"}>Kirjaudu ulos</Button> : \"\"}               \n            </Toolbar>\n          </AppBar>     \n        </div>\n        \n        <Grid\n          justify=\"space-between\"\n          container \n          spacing={2}\n        >\n          <Grid item xs={6}>\n            <div>\n              <Typography  className={classes.link} variant=\"body1\">\n                <Link style={padding} to=\"/\">Etusivu</Link>\n              </Typography>\n              </div>  \n          </Grid>\n          <Grid item xs={3}>\n            <div>\n              <Typography  className={classes.link} variant=\"body1\">\n                {loggedUser ? \"\" : <Link style={padding} to=\"/profile\">Luo profiili</Link>}\n              </Typography> \n            </div>\n          </Grid>\n          <Grid item xs={3}>\n            <div>\n            <Typography  className={classes.link} variant=\"body1\">\n                {loggedUser ? <Link style={padding} to=\"/user\">Omat tiedot</Link> : <Link style={padding} to=\"/login\">Kirjaudu sisään</Link>}\n              </Typography> \n            </div>\n          </Grid>\n       </Grid>\n      \n        <Switch>\n          <Route path=\"/profile\">\n            <br />\n            <CreateProfilePage />\n          </Route>\n          <Route path=\"/login\">\n            <br />\n            <LoginPage onLoggedUser={handleUserLogin} />\n          </Route>\n          <Route path=\"/user\">\n            <br />\n            <UserPage />\n          </Route>\n          <Route path=\"/reviews/:id\">\n            <br />\n            <ReviewPage books={book} />\n          </Route>\n          <Route path=\"/\">\n            <div>\n\n              <Grid container spacing={2}>\n                <div>\n                  <br />\n                  <form className={classes.filterTextField} noValidate autoComplete=\"off\">\n                    <TextField id=\"searchText\" type=\"search\" label=\"Hae kirjoja kirjan nimellä\" variant=\"outlined\" size=\"small\" onChange={handleFilterChange} />\n                  </form>\n                </div>\n              </Grid>\n\n              <Grid container spacing={0}>\n                <div>\n                  <br />\n                  <Typography variant=\"subtitle1\" color=\"inherit\">\n                    Hakutuloksia: {selectedBooks ? selectedBooks.length : 0} \n                  </Typography>\n                </div>\n              </Grid>\n\n              <Grid container item xs={12}>\n                <Grid container spacing={1}>\n                  {selectedBooks ? selectedBooks.map((book) => (\n                    <Grid key={book.id} item>\n                      <div className={classes.button}>\n\n                        <ButtonBase>\n\n                          <CardActionArea component={Link} to={`/reviews/${book.id}`}> \n                            <Card className={classes.bookCard}>\n                              <CardMedia\n                                className={classes.media}\n                                image={!(\"imageLinks\" in book.volumeInfo) ? `${NoImage}` : `${book.volumeInfo.imageLinks.smallThumbnail}`}\n                                alt=\"Book\" width=\"80px\" height=\"100px\"                  \n                              />\n                              <CardContent>\n                                {(\"averageRating\" in book.volumeInfo) ? \n                                  <Rating name=\"read-only\" value={book.volumeInfo.averageRating} precision={0.5} readOnly size=\"small\"/> :\n                                  <Rating name=\"read-only\" value={0} precision={0.5} readOnly size=\"small\"/>\n                                }\n                                <Typography className={classes.typography} variant=\"caption\" component=\"h2\">\n                                  {book.volumeInfo.title}\n                                </Typography>\n                                <Typography className={classes.typography} variant=\"caption\" color=\"textSecondary\" component=\"p\">\n                                  {book.volumeInfo.authors ? splitAuthors(book.volumeInfo.authors) : \"\"}\n                                </Typography>\n                              </CardContent>\n                            </Card>\n                          </CardActionArea>\n\n                        </ButtonBase>\n\n                      </div>\n                    </Grid>\n                  )) : []}\n                </Grid>\n              </Grid>\n    \n              <Grid container spacing={0}>\n                <div>\n                  <br />\n                  <Typography variant=\"h6\" color=\"inherit\">\n                     \n                  </Typography>\n                </div>\n              </Grid>\n\n            </div>\n          </Route>\n        </Switch>\n      </Container>\n    </div>\n  );\n};\n\nexport default App;\n","// Contributor(s): Esa Mäkipää\n//\n// Olen hyödyntänyt Full stack open 2020 -kurssilla (Helsingin yliopisto) oppimiani asioita\n// Lähde:\n// Full stack open 2020 (https://fullstackopen.com/),\n// Syväsukellus moderniin websovelluskehitykseen (osat 0-8),\n// kurssimateriaali on lisensoitu Creative Commons BY-NC-SA 3.0 -lisenssillä\n// https://creativecommons.org/licenses/by-nc-sa/3.0/ \n//\n// Kuvaus: Määrittelee React-komponentin App. Komponentin sisältö renderöidään \n// tiedostossa public/index.html määriteltyyn div-elementtiin (id arvo 'root')\n//\n// Materiaali on Creative Commons BY-NC-SA 4.0-lisenssin alaista.\n// This material is under Creative Commons BY-NC-SA 4.0-license. \n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\"\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\ndocument.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/KirjApp_logo2.8344431e.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KAtiABQAAAFxJREFUWAnt0sENABAUBUH03zOihbk4rPsmP+PNfd/4+K2Pb3undaD+UIIJqoD2bTBBFdC+DSaoAtq3wQRVQPs2mKAKaN8GE1QB7dtggiqgfRtMUAW0b4MJqoD2Bz7qBEwOFkyKAAAAAElFTkSuQmCC\""],"sourceRoot":""}